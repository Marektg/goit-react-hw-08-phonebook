"use strict";(self.webpackChunkgoit_react_hw_07_phonebook=self.webpackChunkgoit_react_hw_07_phonebook||[]).push([[790],{3790:function(e,n,t){t.r(n);var a,r,s,i=t(5861),o=t(885),l=t(168),c=t(4687),p=t.n(c),u=(t(2791),t(5334)),d=t(5048),m=t(470),x=t(5e3),h=t(8573),f=t(9069),w=t(6444),j=t(3329),g=w.ZP.section(a||(a=(0,l.Z)(["\nwidth: 60%;\nmargin-left:20%;\npadding: 40px;\ndisplay: block;\nborder: 10px solid #eac748;\n  background-color: #eceda0;\n\n"]))),b=w.ZP.div(r||(r=(0,l.Z)(["\npadding:5px;\ndisplay: flex;\n  justify-content: flex-start;\n  "]))),k=w.ZP.label(s||(s=(0,l.Z)(["\n    margin-left: 15%;\n    display: grid;\ngrid-template-columns: 30% 70%;\ngrid-gap: 20px;\n& input {\n    width: 300px;\n    margin-left:10px;\n}\n"])));n.default=function(){var e=(0,u.Bl)(),n=(0,o.Z)(e,1)[0],t=(0,d.I0)(),a=(0,m.s0)(),r=function(){var e=(0,i.Z)(p().mark((function e(r){var s,i,o,l,c,u,d,m,w;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.preventDefault(),s=r.target,i=s.firstName.value,o=s.lastName.value,l="".concat(i," ").concat(o),c=s.email.value,u=s.password.value,d=s.passwordConfirm.value,u===d){e.next=10;break}return e.abrupt("return",alert("Password and password confirmation do not match!"));case 10:return m={name:l,email:c,password:u},e.next=13,n(m).unwrap().then((function(e){var n=e.token,a=e.user,r=a.email,s=a.name;localStorage.setItem("token",JSON.stringify(n)),n&&t((0,x.cn)({email:r,name:s}))})).catch((function(){alert("User with this email address already exists!")}));case 13:return e.next=15,(0,f.Z)("token");case 15:if(void 0!==(w=e.sent)){e.next=18;break}return e.abrupt("return");case 18:return e.next=20,t((0,h.Z6)(w));case 20:return e.next=22,a("/contacts");case 22:s.reset();case 23:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,j.jsxs)(g,{children:[(0,j.jsx)("h2",{children:"Registration"}),(0,j.jsxs)("form",{onSubmit:r,children:[(0,j.jsx)(b,{children:(0,j.jsxs)(k,{children:["First name",(0,j.jsx)("input",{type:"text",name:"firstName",required:!0})]})}),(0,j.jsx)(b,{children:(0,j.jsxs)(k,{children:["Last name",(0,j.jsx)("input",{type:"text",name:"lastName",required:!0})]})}),(0,j.jsx)(b,{children:(0,j.jsxs)(k,{children:["E-mail",(0,j.jsx)("input",{type:"email",name:"email",pattern:"[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,}$",autoComplete:"email",required:!0})]})}),(0,j.jsx)(b,{children:(0,j.jsxs)(k,{children:["Password",(0,j.jsx)("input",{type:"password",name:"password",pattern:"(?=.*\\d)(?=.*[a-z])(?=.*[A-Z]).{8,}",title:"Must contain at least one uppercase and lowercase letter, one number and at least 8 or more characters",autoComplete:"new-password",required:!0})]})}),(0,j.jsx)(b,{children:(0,j.jsxs)(k,{children:["Confirm password",(0,j.jsx)("input",{type:"password",name:"passwordConfirm",pattern:"(?=.*\\d)(?=.*[a-z])(?=.*[A-Z]).{8,}",title:"Must contain at least one uppercase and lowercase letter, one number and at least 8 or more characters",autoComplete:"new-password-confirm",required:!0})]})}),(0,j.jsx)("button",{type:"submit",style:{cursor:"pointer",marginTop:"20px"},children:"Sign up"})]})]})}}}]);
//# sourceMappingURL=790.57558c41.chunk.js.map