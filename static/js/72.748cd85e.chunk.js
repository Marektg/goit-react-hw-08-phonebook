"use strict";(self.webpackChunkgoit_react_hw_07_phonebook=self.webpackChunkgoit_react_hw_07_phonebook||[]).push([[72],{2072:function(e,n,t){t.r(n),t.d(n,{default:function(){return v}});var r=t(2791),a=t(181);function o(e,n){var t="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=(0,a.Z)(e))||n&&e&&"number"===typeof e.length){t&&(e=t);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,c=!0,s=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return c=e.done,e},e:function(e){s=!0,i=e},f:function(){try{c||null==t.return||t.return()}finally{if(s)throw i}}}}var i=t(5861),c=t(885),s=t(4687),u=t.n(s),l=t(5334),d=t(3329),p=function(){var e=(0,l.wY)().data,n=void 0===e?[]:e,t=(0,l.Tn)(),r=(0,c.Z)(t,1)[0],a=function(){var e=(0,i.Z)(u().mark((function e(t){var a,i,c,s,l,d;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t.target,i=a.name.value,c=a.number.value,t.preventDefault(),s=o(n),e.prev=5,s.s();case 7:if((l=s.n()).done){e.next=15;break}if((d=l.value).name!==i){e.next=11;break}return e.abrupt("return",alert("".concat(i," is already in your contacts with the phone number ").concat(d.number)));case 11:if(d.number!==c){e.next=13;break}return e.abrupt("return",alert("".concat(c," is already in your contacts with the name ").concat(d.name)));case 13:e.next=7;break;case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(5),s.e(e.t0);case 20:return e.prev=20,s.f(),e.finish(20);case 23:return e.prev=23,e.next=26,r({name:i,number:c});case 26:e.next=31;break;case 28:e.prev=28,e.t1=e.catch(23),alert("Failed to save contact ".concat(i," in Phonebook!"));case 31:a.reset();case 32:case"end":return e.stop()}}),e,null,[[5,17,20,23],[23,28]])})));return function(n){return e.apply(this,arguments)}}();return(0,d.jsxs)("form",{onSubmit:a,style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,d.jsx)("h5",{style:{marginTop:"10px",marginBottom:"10px",letterSpacing:"2px"},children:"Name"}),(0,d.jsx)("input",{type:"text",name:"name",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0}),(0,d.jsx)("h5",{children:"Number"}),(0,d.jsx)("input",{type:"tel",name:"number",pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0}),(0,d.jsx)("button",{style:{marginTop:"10px",fontSize:"12px",padding:"10px",backgroundColor:"#f5f5f5"},children:"Add contact"})]})},h=t(5048),f=t(1473),m=function(){var e=(0,h.I0)();return(0,d.jsxs)(d.Fragment,{children:[" ",(0,d.jsx)("h5",{children:"Find contact by name"}),(0,d.jsx)("input",{onChange:function(n){var t=n.target.value.toLowerCase();e((0,f.T)(t))},type:"text",placeholder:" "})]})},x=t(1062),b=function(){var e=(0,l.wY)(),n=e.data,t=void 0===n?[]:n,a=e.isLoading,o=e.isSuccess,i=e.isError,s=e.error;console.log(t);var u=(0,h.v9)((function(e){return e.filter})),p=(0,r.useMemo)((function(){return t.filter((function(e){return e.name.toLowerCase().includes(u)})).sort((function(e,n){return e.name.localeCompare(n.name)}))}),[t,u]),f=(0,d.jsx)("li",{children:"No contacts in the phonebook"}),m=(0,l.Nt)(),b=(0,c.Z)(m,1)[0],v=p.map((function(e){var n=e.id,t=e.name,r=e.number;return(0,d.jsxs)("li",{style:{display:"grid",gridTemplateColumns:"2fr 1fr",columnGap:"20px",alignItems:"center"},children:[t,": ",r,(0,d.jsx)("button",{onClick:function(){return b(n)},style:{borderRadius:"15px",letterSpacing:"2px",backgroundClip:"#f8b4c0"},children:"Delete"})]},n)}));return a?f=(0,d.jsx)(x.Z,{}):o?f=0!==p.length?(0,d.jsx)("ul",{children:v}):(0,d.jsx)("li",{children:"No contacts in the phonebook"}):i&&(f=(0,d.jsx)("div",{children:s.toString()})),(0,d.jsx)(d.Fragment,{children:f})};var v=function(){return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(p,{}),(0,d.jsx)("h2",{children:"Contacts"}),(0,d.jsx)(m,{}),(0,d.jsx)(b,{})]})}}}]);
//# sourceMappingURL=72.748cd85e.chunk.js.map