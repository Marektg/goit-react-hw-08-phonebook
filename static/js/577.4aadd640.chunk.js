"use strict";(self.webpackChunkgoit_react_hw_07_phonebook=self.webpackChunkgoit_react_hw_07_phonebook||[]).push([[577],{4577:function(e,n,r){r.r(n);var t=r(5861),a=r(885),s=r(7757),i=r.n(s),o=(r(2791),r(5048)),u=r(470),c=r(8573),l=r(5e3),p=r(5334),d=r(9069),h=r(3329);n.default=function(){var e=(0,p.YA)(),n=(0,a.Z)(e,1)[0],r=(0,o.I0)(),s=(0,u.s0)(),m=function(){var e=(0,t.Z)(i().mark((function e(t){var a,o,u,p,h;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a=t.target,o=a.email.value,u=a.password.value,p={email:o,password:u},e.next=7,n(p).unwrap().then((function(e){var n=e.token,t=e.user,a=t.email,s=t.name;localStorage.setItem("token",JSON.stringify(n)),n&&r((0,l.cn)({email:a,name:s}))})).catch((function(){alert("The given data is incorrect. Check your email and password.")}));case 7:return e.next=9,(0,d.Z)("token");case 9:if(void 0!==(h=e.sent)){e.next=12;break}return e.abrupt("return");case 12:return e.next=14,r((0,c.Z6)(h));case 14:return e.next=16,s("/contacts");case 16:a.reset();case 17:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("h2",{children:"Login"}),(0,h.jsxs)("form",{onSubmit:m,children:[(0,h.jsx)("div",{children:(0,h.jsxs)("label",{children:["E-mail",(0,h.jsx)("input",{type:"email",name:"email",autoComplete:"email",required:!0})]})}),(0,h.jsx)("div",{children:(0,h.jsxs)("label",{children:["Password",(0,h.jsx)("input",{type:"password",name:"password",autoComplete:"current-password",required:!0})]})}),(0,h.jsx)("button",{type:"submit",children:"Log in"})]})]})}}}]);
//# sourceMappingURL=577.4aadd640.chunk.js.map