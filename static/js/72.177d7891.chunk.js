"use strict";(self.webpackChunkgoit_react_hw_07_phonebook=self.webpackChunkgoit_react_hw_07_phonebook||[]).push([[72],{2072:function(e,n,t){t.r(n),t.d(n,{default:function(){return A}});var r=t(168),a=t(2791),o=t(181);function i(e,n){var t="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=(0,o.Z)(e))||n&&e&&"number"===typeof e.length){t&&(e=t);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,c=!0,s=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return c=e.done,e},e:function(e){s=!0,i=e},f:function(){try{c||null==t.return||t.return()}finally{if(s)throw i}}}}var c,s,u,l=t(5861),d=t(885),p=t(4687),f=t.n(p),h=t(5334),m=t(6444),x=t(3329),b=m.ZP.div(c||(c=(0,r.Z)(["\npadding:5px;\ndisplay: flex;\n  justify-content: flex-start;\n  "]))),v=m.ZP.label(s||(s=(0,r.Z)(["\n    margin-left: 15%;\n    display: grid;\ngrid-template-columns: 30% 70%;\ngrid-gap:20px;\n& input {\n    width: 300px;\n    margin-left:10px;\n}\n"]))),g=function(){var e=(0,h.wY)().data,n=void 0===e?[]:e,t=(0,h.Tn)(),r=(0,d.Z)(t,1)[0],a=function(){var e=(0,l.Z)(f().mark((function e(t){var a,o,c,s,u,l;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t.target,o=a.name.value,c=a.number.value,t.preventDefault(),s=i(n),e.prev=5,s.s();case 7:if((u=s.n()).done){e.next=15;break}if((l=u.value).name!==o){e.next=11;break}return e.abrupt("return",alert("".concat(o," is already in your contacts with the phone number ").concat(l.number)));case 11:if(l.number!==c){e.next=13;break}return e.abrupt("return",alert("".concat(c," is already in your contacts with the name ").concat(l.name)));case 13:e.next=7;break;case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(5),s.e(e.t0);case 20:return e.prev=20,s.f(),e.finish(20);case 23:return e.prev=23,e.next=26,r({name:o,number:c});case 26:e.next=31;break;case 28:e.prev=28,e.t1=e.catch(23),alert("Failed to save contact ".concat(o," in Phonebook!"));case 31:a.reset();case 32:case"end":return e.stop()}}),e,null,[[5,17,20,23],[23,28]])})));return function(n){return e.apply(this,arguments)}}();return(0,x.jsxs)("form",{onSubmit:a,style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,x.jsx)(b,{children:(0,x.jsxs)(v,{children:["Name",(0,x.jsx)("input",{type:"text",name:"name",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0})]})}),(0,x.jsx)(b,{children:(0,x.jsxs)(v,{children:["Number",(0,x.jsx)("input",{type:"tel",name:"number",pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0})]})}),(0,x.jsx)("button",{style:{marginTop:"10px",fontSize:"12px",padding:"10px",backgroundColor:"#f5f5f5",cursor:"pointer"},children:"Add contact"})]})},y=t(5048),j=t(1473),k=function(){var e=(0,y.I0)();return(0,x.jsxs)(x.Fragment,{children:[" ",(0,x.jsx)("h5",{children:"Find contact by name"}),(0,x.jsx)("input",{onChange:function(n){var t=n.target.value.toLowerCase();e((0,j.T)(t))},type:"text",placeholder:" "})]})},w=t(1062),Z=function(){var e=(0,h.wY)(),n=e.data,t=void 0===n?[]:n,r=e.isLoading,o=e.isSuccess,i=e.isError,c=e.error;console.log(t);var s=(0,y.v9)((function(e){return e.filter})),u=(0,a.useMemo)((function(){return t.filter((function(e){return e.name.toLowerCase().includes(s)})).sort((function(e,n){return e.name.localeCompare(n.name)}))}),[t,s]),l=(0,x.jsx)("li",{children:"No contacts in the phonebook"}),p=(0,h.Nt)(),f=(0,d.Z)(p,1)[0],m=u.map((function(e){var n=e.id,t=e.name,r=e.number;return(0,x.jsxs)("li",{style:{display:"grid",gridTemplateColumns:"2fr 1fr",columnGap:"20px",alignItems:"center"},children:[t,": ",r,(0,x.jsx)("button",{onClick:function(){return f(n)},style:{borderRadius:"15px",letterSpacing:"2px",backgroundClip:"#f8b4c0",cursor:"pointer"},children:"Delete"})]},n)}));return r?l=(0,x.jsx)(w.Z,{}):o?l=0!==u.length?(0,x.jsx)("ul",{children:m}):(0,x.jsx)("li",{children:"No contacts in the phonebook"}):i&&(l=(0,x.jsx)("div",{children:c.toString()})),(0,x.jsx)(x.Fragment,{children:l})},C=m.ZP.section(u||(u=(0,r.Z)(["\nwidth: 60%;\nmargin-left:20%;\npadding: 40px;\ndisplay: block;\nborder: 10px solid #eac748;\n  background-color: #eceda0;\n\n"])));var A=function(){return(0,x.jsxs)(C,{children:[(0,x.jsx)(g,{}),(0,x.jsx)("h2",{children:"Contacts"}),(0,x.jsx)(k,{}),(0,x.jsx)(Z,{})]})}}}]);
//# sourceMappingURL=72.177d7891.chunk.js.map