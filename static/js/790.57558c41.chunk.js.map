{"version":3,"file":"static/js/790.57558c41.chunk.js","mappings":"qSASMA,EAAUC,EAAAA,GAAAA,QAAH,qJAUPC,EAAWD,EAAAA,GAAAA,IAAH,wFAMRE,EAAYF,EAAAA,GAAAA,MAAH,6KAmHf,UAxGqB,WACjB,OAAiBG,EAAAA,EAAAA,MAAVC,GAAP,eACMC,GAAWC,EAAAA,EAAAA,MACXC,GAAWC,EAAAA,EAAAA,MAEXC,EAAa,mCAAG,WAAMC,GAAN,0FAClBA,EAAEC,iBACIC,EAAOF,EAAEG,OACTC,EAAYF,EAAKE,UAAUC,MAC3BC,EAAWJ,EAAKI,SAASD,MACzBE,EALY,UAKFH,EALE,YAKWE,GACvBE,EAAQN,EAAKM,MAAMH,MACnBI,EAAWP,EAAKO,SAASJ,MACzBK,EAAkBR,EAAKQ,gBAAgBL,MAEzCI,IAAaC,EAVC,0CAWPC,MAAM,qDAXC,eAcZC,EAAc,CAAEL,KAAAA,EAAMC,MAAAA,EAAOC,SAAAA,GAdjB,UAeZf,EAAOkB,GACRC,SACAC,MAAK,YAAuC,IAApCC,EAAmC,EAAnCA,MAAmC,IAA5BC,KAAQR,EAAoB,EAApBA,MAAOD,EAAa,EAAbA,KAC3BU,aAAaC,QAAQ,QAASC,KAAKC,UAAUL,IACzCA,GACApB,GAAS0B,EAAAA,EAAAA,IAAQ,CAAEb,MAAAA,EAAOD,KAAAA,IAEjC,IACAe,OAAM,WACHX,MAAM,+CACT,IAzBa,0BA2BEY,EAAAA,EAAAA,GAAoB,SA3BtB,gBA4BJC,KADRT,EA3BY,4EAgCZpB,GAAS8B,EAAAA,EAAAA,IAASV,IAhCN,yBAiCZlB,EAAS,aAjCG,QAkClBK,EAAKwB,QAlCa,4CAAH,sDAqCnB,OACI,UAACrC,EAAD,YAEQ,0CACA,kBAAMsC,SAAU5B,EAAhB,WACA,SAACR,EAAD,WACI,UAACC,EAAD,yBAEQ,kBAAOoC,KAAK,OAAOrB,KAAK,YAAYsB,UAAQ,UAGxD,SAACtC,EAAD,WACI,UAACC,EAAD,wBAEQ,kBAAOoC,KAAK,OAAOrB,KAAK,WAAWsB,UAAQ,UAGnD,SAACtC,EAAD,WACA,UAACC,EAAD,qBAEQ,kBACIoC,KAAK,QACLrB,KAAK,QACLuB,QAAQ,0CACRC,aAAa,QACbF,UAAQ,UAIpB,SAACtC,EAAD,WACA,UAACC,EAAD,uBAEQ,kBACIoC,KAAK,WACLrB,KAAK,WACLuB,QAAQ,uCACRE,MAAM,yGACND,aAAa,eACbF,UAAQ,UAIpB,SAACtC,EAAD,WACA,UAACC,EAAD,+BAEQ,kBACIoC,KAAK,WACLrB,KAAK,kBACLuB,QAAQ,uCACRE,MAAM,yGACND,aAAa,uBACbF,UAAQ,UAIpB,mBAAQD,KAAK,SAASK,MAAO,CAAEC,OAAQ,UAAWC,UAAW,QAA7D,0BAKnB,C","sources":["pages/registration.jsx"],"sourcesContent":["import React from 'react';\nimport { useSignupMutation } from 'services/phonebookApi';\nimport { useDispatch } from 'react-redux';\nimport { useNavigate } from 'react-router-dom';\nimport { addUser } from 'redux/userSlice';\nimport { addToken } from 'redux/tokenSlice';\nimport getFromLocalStorage from 'utilites/getFromLocalStore';\nimport styled from 'styled-components';\n\nconst Wrapper = styled.section`\nwidth: 60%;\nmargin-left:20%;\npadding: 40px;\ndisplay: block;\nborder: 10px solid #eac748;\n  background-color: #eceda0;\n\n`;\n\nconst FormCell = styled.div`\npadding:5px;\ndisplay: flex;\n  justify-content: flex-start;\n  `;\n\nconst StylLabel = styled.label`\n    margin-left: 15%;\n    display: grid;\ngrid-template-columns: 30% 70%;\ngrid-gap: 20px;\n& input {\n    width: 300px;\n    margin-left:10px;\n}\n`;\n\nconst Registration = () => {\n    const [signup] = useSignupMutation();\n    const dispatch = useDispatch();\n    const navigate = useNavigate();\n\n    const submitHandler = async e => {\n        e.preventDefault();\n        const form = e.target;\n        const firstName = form.firstName.value;\n        const lastName = form.lastName.value;\n        const name = `${firstName} ${lastName}`;\n        const email = form.email.value;\n        const password = form.password.value;\n        const passwordConfirm = form.passwordConfirm.value;\n\n        if (password !== passwordConfirm) {\n            return alert('Password and password confirmation do not match!');\n        }\n\n        const credentials = { name, email, password };\n        await signup(credentials)\n            .unwrap()\n            .then(({ token, user: { email, name } }) => {\n                localStorage.setItem(\"token\", JSON.stringify(token));\n                if (token) {\n                    dispatch(addUser({ email, name }));\n                }\n            })\n            .catch(() => {\n                alert('User with this email address already exists!');\n            });\n\n        const token = await getFromLocalStorage(\"token\")\n        if (token === undefined) {\n            return;\n        }\n\n        await dispatch(addToken(token));\n        await navigate('/contacts');\n        form.reset();\n    };\n\n    return (\n        <Wrapper>\n          \n                <h2>Registration</h2>\n                <form onSubmit={submitHandler}>\n                <FormCell>\n                    <StylLabel>\n                            First name\n                            <input type=\"text\" name=\"firstName\" required />\n                    </StylLabel>\n                </FormCell>\n                <FormCell>\n                    <StylLabel>\n                            Last name\n                            <input type=\"text\" name=\"lastName\" required />\n                    </StylLabel>\n                    </FormCell>\n                    <FormCell>\n                    <StylLabel>\n                            E-mail\n                            <input\n                                type=\"email\"\n                                name=\"email\"\n                                pattern=\"[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,}$\"\n                                autoComplete=\"email\"\n                                required\n                            />\n                    </StylLabel>\n                    </FormCell>\n                    <FormCell>\n                    <StylLabel>\n                            Password\n                            <input\n                                type=\"password\"\n                                name=\"password\"\n                                pattern=\"(?=.*\\d)(?=.*[a-z])(?=.*[A-Z]).{8,}\"\n                                title=\"Must contain at least one uppercase and lowercase letter, one number and at least 8 or more characters\"\n                                autoComplete=\"new-password\"\n                                required\n                            />\n                    </StylLabel>\n                    </FormCell>\n                    <FormCell>\n                    <StylLabel>\n                            Confirm password\n                            <input\n                                type=\"password\"\n                                name=\"passwordConfirm\"\n                                pattern=\"(?=.*\\d)(?=.*[a-z])(?=.*[A-Z]).{8,}\"\n                                title=\"Must contain at least one uppercase and lowercase letter, one number and at least 8 or more characters\"\n                                autoComplete=\"new-password-confirm\"\n                                required\n                            />\n                    </StylLabel>\n                    </FormCell>\n                    <button type=\"submit\" style={{ cursor: \"pointer\", marginTop: \"20px\"}}>Sign up</button>\n                </form>\n          \n        </Wrapper>\n    );\n};\n\nexport default Registration;"],"names":["Wrapper","styled","FormCell","StylLabel","useSignupMutation","signup","dispatch","useDispatch","navigate","useNavigate","submitHandler","e","preventDefault","form","target","firstName","value","lastName","name","email","password","passwordConfirm","alert","credentials","unwrap","then","token","user","localStorage","setItem","JSON","stringify","addUser","catch","getFromLocalStorage","undefined","addToken","reset","onSubmit","type","required","pattern","autoComplete","title","style","cursor","marginTop"],"sourceRoot":""}