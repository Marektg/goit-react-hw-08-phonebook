"use strict";(self.webpackChunkgoit_react_hw_07_phonebook=self.webpackChunkgoit_react_hw_07_phonebook||[]).push([[790],{3790:function(e,t,a){a.r(t);var r=a(5861),n=a(885),s=a(7757),i=a.n(s),o=(a(2791),a(5334)),l=a(5048),c=a(470),u=a(5e3),d=a(8573),p=a(9069),m=a(3329);t.default=function(){var e=(0,o.Bl)(),t=(0,n.Z)(e,1)[0],a=(0,l.I0)(),s=(0,c.s0)(),h=function(){var e=(0,r.Z)(i().mark((function e(r){var n,o,l,c,m,h,x,w,f;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.preventDefault(),n=r.target,o=n.firstName.value,l=n.lastName.value,c="".concat(o," ").concat(l),m=n.email.value,h=n.password.value,x=n.passwordConfirm.value,h===x){e.next=10;break}return e.abrupt("return",alert("Password and password confirmation do not match!"));case 10:return w={name:c,email:m,password:h},e.next=13,t(w).unwrap().then((function(e){var t=e.token,r=e.user,n=r.email,s=r.name;localStorage.setItem("token",JSON.stringify(t)),t&&a((0,u.cn)({email:n,name:s}))})).catch((function(){alert("User with this email address already exists!")}));case 13:return e.next=15,(0,p.Z)("token");case 15:if(void 0!==(f=e.sent)){e.next=18;break}return e.abrupt("return");case 18:return e.next=20,a((0,d.Z6)(f));case 20:return e.next=22,s("/contacts");case 22:n.reset();case 23:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("h2",{children:"Registration"}),(0,m.jsxs)("form",{onSubmit:h,children:[(0,m.jsx)("div",{children:(0,m.jsxs)("label",{children:["First name",(0,m.jsx)("input",{type:"text",name:"firstName",required:!0})]})}),(0,m.jsx)("div",{children:(0,m.jsxs)("label",{children:["Last name",(0,m.jsx)("input",{type:"text",name:"lastName",required:!0})]})}),(0,m.jsx)("div",{children:(0,m.jsxs)("label",{children:["E-mail",(0,m.jsx)("input",{type:"email",name:"email",pattern:"[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,}$",autoComplete:"email",required:!0})]})}),(0,m.jsx)("div",{children:(0,m.jsxs)("label",{children:["Password",(0,m.jsx)("input",{type:"password",name:"password",pattern:"(?=.*\\d)(?=.*[a-z])(?=.*[A-Z]).{8,}",title:"Must contain at least one uppercase and lowercase letter, one number and at least 8 or more characters",autoComplete:"new-password",required:!0})]})}),(0,m.jsx)("div",{children:(0,m.jsxs)("label",{children:["Confirm password",(0,m.jsx)("input",{type:"password",name:"passwordConfirm",pattern:"(?=.*\\d)(?=.*[a-z])(?=.*[A-Z]).{8,}",title:"Must contain at least one uppercase and lowercase letter, one number and at least 8 or more characters",autoComplete:"new-password-confirm",required:!0})]})}),(0,m.jsx)("button",{type:"submit",children:"Sign up"})]})]})}}}]);
//# sourceMappingURL=790.153827bc.chunk.js.map